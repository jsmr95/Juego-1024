<!DOCTYPE html>
<html lang="es" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="estilos.css">
    <title>1024</title>
  </head>
  <body>
    <center>
    <table>
        <tbody id="cuerpo">
            <tr id="fila1">
                <td id="col1"  name='cuadrado'><p>2</p> </td>
                <td id="col21"  name='cuadrado'> </td>
                <td id="col31"  name='cuadrado'> </td>
                <td id="col41"  name='cuadrado'> </td>
            </tr>
            <tr id="fila2">
                <td id="col12"  name='cuadrado'><p>2</p> </td>
                <td id="col22"  name='cuadrado'> </td>
                <td id="col32"  name='cuadrado'> </td>
                <td id="col42"  name='cuadrado'> </td>
            </tr>
            <tr id="fila3">
                <td id="col13"  name='cuadrado'><p>2</p> </td>
                <td id="col23"  name='cuadrado'> </td>
                <td id="col33"  name='cuadrado'> </td>
                <td id="col43"  name='cuadrado'> </td>
            </tr>
            <tr id="fila4" >
                <td id="col14"  name='cuadrado'><p>2</p> </td>
                <td id="col24" name='cuadrado'> </td>
                <td id="col34"  name='cuadrado'> </td>
                <td id="col44"  name='cuadrado'> </td>
            </tr>
        </tbody>
    </table>
    </center>
    <script type="text/javascript" src="auxiliar.js"> </script>
    <script type="text/javascript">
        window.addEventListener('click',reduceColumnaAbajo);
        generaNumero();
        generaNumero();

        //funcion para reducir columna abajo
        function reduceColumnaAbajo(){
          var c1 = document.getElementById('col1');
          var c2 = document.getElementById('col12');
          var c3 = document.getElementById('col13');
          var c4 = document.getElementById('col14');
          var columnas = [c4,c3,c2,c1];
          var llenos = actualizaLlenos(columnas);
          if (llenos.length == 1) {
            mueveNodo(llenos[0], c4);
          }else {
            var cont = 0;
            console.log(llenos[1] == llenos[0].nextSibling);
            for (var i = 0; i < llenos.length; i++) {
                // console.log(llenos);
                if (compara(llenos[i], llenos[i+1]) && cont == 0) {
                    transformaNodo(llenos[i+1]);
                    mueveNodo(llenos[i+1],llenos[i]);
                    break;
                    llenos = actualizaLlenos(columnas);
                }
                }
            }
        }

    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  </body>
</html>
